# 학생 성적 관리 시스템: 프로젝트 종합 계획서

> 이 문서는 '학생 관리 및 성적 처리 시스템' 개발 프로젝트의 모든 것을 담고 있는 종합 계획서입니다. 기술 전문가부터 비전문가까지, 프로젝트에 관련된 누구나 쉽게 이해하고 전체 그림을 파악할 수 있도록 작성되었습니다.

---

## 0부: 문서 개요 (모두를 위한 가이드)

### 1. 이 문서는 무엇인가요?

이 문서는 우리가 만들고자 하는 **'학생 성적 관리 시스템'**이 **무엇(What)**이며, **왜(Why)** 필요하고, **어떻게(How)** 만들 것인지에 대한 구체적인 계획과 설계를 담고 있습니다.

프로젝트의 목표부터 시작해서 필요한 기능, 시스템 구조, 개발 순서, 운영 전략까지 모든 내용을 체계적으로 정리하여, 프로젝트 참여자들이 동일한 목표를 공유하고 원활하게 협업할 수 있도록 돕는 나침반 역할을 합니다.

### 2. 누구와 공유하고 함께 보면 좋나요? (공유 대상)

이 문서는 프로젝트와 관련된 다양한 사람들과 함께 보고 논의하기 위해 만들어졌습니다. 각 담당자가 어떤 부분을 중점적으로 보면 좋을지 안내합니다.

| 공유 대상 | 주요 확인 부분 | 이분들에게 왜 유용한가요? |
| :--- | :--- | :--- |
| **기획자 / PM** | 1부 (기획/정책), 3부 (개발/운영) | 프로젝트의 목표와 전체 범위를 파악하고, 개발 일정을 계획하며, 요구사항이 잘 반영되었는지 확인하는 데 도움이 됩니다. |
| **개발자 (백엔드/프론트엔드)** | 2부 (설계/아키텍처), 3부 (개발/운영) | 실제 개발에 필요한 시스템 구조, DB 설계, API 명세를 파악하여 기술적인 구현 방향을 명확히 할 수 있습니다. |
| **디자이너 (UI/UX)** | 1부 (기획/정책)의 기능, 사용자 부분 | 사용자의 종류와 그들의 동선을 이해하고, 각 기능에 필요한 화면을 설계하는 데 필요한 핵심 정보를 얻을 수 있습니다. |
| **조직 관리자 / 의사결정권자** | 0부 (문서 개요), 1부 (기획/정책) | 프로젝트의 핵심 목표와 기대 효과, 그리고 전체적인 개발 계획을 빠르게 파악하여 의사결정을 내리는 데 도움이 됩니다. |
| **프로젝트에 관심 있는 누구나** | 0부 (문서 개요), 1부 (기획/정책) | 기술을 잘 모르더라도 우리가 어떤 멋진 시스템을 만들려고 하는지 쉽게 이해하고 공감할 수 있습니다. |

### 3. 초심자를 위한 핵심 용어 가이드

프로젝트를 이해하는 데 도움이 될 만한 몇 가지 핵심 용어를 쉽게 풀어 설명합니다.

> - **API (Application Programming Interface)**
>   - 식당의 '점원'과 같아요. 손님(프론트엔드)이 주문(요청)하면, 주방(백엔드)에 주문을 전달하고 완성된 요리(데이터)를 다시 손님에게 가져다주는 연결 통로입니다.
>
> - **DB (데이터베이스, Database)**
>   - 데이터를 체계적으로 보관하는 '창고'입니다. 학생 정보, 성적, 과목 등 모든 정보를 이곳에 저장하고 필요할 때마다 꺼내 씁니다.
>
> - **ERD (Entity-Relationship Diagram)**
>   - 데이터베이스(창고)의 '설계도'입니다. 어떤 종류의 정보를(테이블), 어떻게 연결해서(관계) 보관할지 그림으로 표현한 것입니다.
>
> - **프론트엔드 (Frontend)**
>   - 사용자가 직접 눈으로 보고 상호작용하는 웹/앱 화면입니다. 식당으로 치면 '인테리어와 테이블'에 해당합니다. (예: React, Next.js)
>
> - **백엔드 (Backend)**
>   - 사용자 눈에 보이지 않는 서버와 데이터베이스를 관리하는 시스템의 '두뇌'이자 '주방'입니다. 데이터 처리, 계산 등 모든 실제 작업이 여기서 이루어집니다. (예: FastAPI)
>
> - **RBAC (Role-Based Access Control)**
>   - '역할 기반 접근 제어'라는 뜻으로, '신분(역할)'에 따라 할 수 있는 일(권한)을 정해두는 방식입니다. 예를 들어, 식당 매니저, 점원, 손님의 역할과 권한이 다른 것과 같습니다.
>
> - **JWT (JSON Web Token)**
>   - 사용자가 로그인에 성공했을 때 서버가 발급해주는 '디지털 출입증'입니다. 사용자는 이 출입증을 제시하며, 서버는 출입증을 보고 "아, 신원이 확인된 사용자로구나"라고 믿고 요청을 처리해줍니다.

---

## 1부: 무엇을, 왜 만드나요? (기획 및 정책)

### 1-1. 프로젝트 목표와 핵심 가치

| 구분 | 내용 |
| :--- | :--- |
| **프로젝트 목표** | 학생, 수업, 평가요소를 체계적으로 관리하고, **성적 산출, 검증, 공개, 출력**까지 한 번에 처리하는 편리하고 신뢰성 있는 웹/앱 서비스를 구축합니다. |
| **서비스 대상** | 학과, 연구실, 학원, 동아리 등 '반(클래스)' 단위로 운영되는 모든 조직 |
| **핵심 가치** | 1. **신뢰성**: 성적 산출 과정을 추적하고 재현할 수 있도록 합니다.<br>2. **편의성**: 입력 오류를 최소화하고, PDF/Excel 출력을 자동화합니다.<br>3. **보안**: 사용자 역할에 따라 접근 권한을 철저히 통제합니다. |

### 1-2. 주요 기능 요구사항

| 기능 분류 | 주요 기능 | 상세 설명 |
| :--- | :--- | :--- |
| **기본 관리** | 학생/반/과목 관리 | - 학생 정보 등록 (개별, 일괄 업로드)<br>- 학기별로 반(클래스)과 과목 생성<br>- 과목에 학생을 배정(수강 신청) |
| **평가 설계** | 평가 항목 설계 | - 성적 비중 설정 (예: 출석 10%, 과제 30%)<br>- 평가 항목별 만점, 규칙(결시 처리 등) 정의<br>- 절대/상대/P-F 등 성적 등급 체계 선택 |
| **성적 처리** | 점수 입력, 검증, 확정 | - 스프레드시트 형태의 편리한 점수 입력 UI<br>- 만점 초과, 결측치 등 오류 자동 검증<br>- 성적 확정(잠금) 및 모든 변경 이력 기록 |
| **결과 활용** | 출력 및 리포트 | - 개인 성적표(PDF), 반 전체 성적표(PDF/Excel) 자동 생성<br>- 평균, 표준편차 등 통계 데이터 제공<br>- 성적 공지 및 학생 열람 기간 설정 |
| **부가 기능** | 알림 | - 성적 공개, 수정 등 주요 이벤트 발생 시 이메일/푸시 알림 발송 (선택) |

### 1-3. 사용자 종류와 역할 (권한)

이 시스템은 **RBAC (역할 기반 접근 제어)** 모델을 사용하여 사용자의 역할을 명확히 구분하고, 역할에 따라 할 수 있는 일을 엄격히 제한합니다.

| 역할 | 주요 권한 | 설명 |
| :--- | :--- | :--- |
| 👨‍💼 **Admin (관리자)** | 시스템 전체 설정, 사용자 계정 관리 | 시스템의 모든 기능을 관리하는 최고 권한자입니다. |
| 👩‍🏫 **Teacher (교수/강사)** | 반/과목 생성, 평가 설계, 점수 입력/수정, 성적 확정/공개 | 과목 운영의 전반을 책임지는 핵심 사용자입니다. '성적 확정/잠금'과 같은 민감한 기능은 Teacher만 가능합니다. |
| 👨‍💻 **TA (조교)** | 점수 입력/검수, 출결/과제 관리 | Teacher를 보조하여 성적 입력을 돕습니다. 담당 과목에 대해서만 접근 권한을 가집니다. |
| 🧑‍🎓 **Student (학생)** | 본인 성적/정보 조회, 성적표 다운로드 | 자신의 정보만 조회할 수 있으며, 다른 학생의 정보에는 절대 접근할 수 없습니다. |

> **[중요 원칙] 성적 확정 후 수정 정책**
> 확정된 성적은 임의로 수정할 수 없습니다. 반드시 **'정정 요청 → 승인'** 절차를 거쳐야만 수정이 가능하며, 이 모든 과정은 **'감사 로그'**에 기록되어 투명하게 관리됩니다.

---

## 2부: 어떻게 만드나요? (설계 및 아키텍처)

### 2-1. 시스템 구성도 (아키텍처)

우리 시스템은 **Python**을 중심으로, 안정성과 확장성을 고려한 표준적인 구조로 설계합니다.

```
[ 사용자 (웹/앱) ] <---> [ 프론트엔드 (React) ] <---> [ API (FastAPI) ] <---> [ 백엔드 (Python) ]
                                                                                   |
                                                                           [ DB (PostgreSQL) ]
                                                                                   |
                                                                           [ 파일 저장소 (S3) ]
```

| 구성 요소 | 사용 기술 | 선택 이유 |
| :--- | :--- | :--- |
| **프론트엔드 (웹)** | **React** (or Next.js) | 가장 대중적이고 생태계가 활발하여 뛰어난 사용자 인터페이스를 만들기에 적합합니다. |
| **프론트엔드 (앱)** | React Native / Flutter | 웹과 코드를 공유하여 iOS, Android 앱을 동시에 개발할 수 있어 효율적입니다. |
| **백엔드 (API)** | **FastAPI** (Python) | 현대적이고 배우기 쉬우며, Python의 풍부한 라이브러리를 활용하면서도 매우 빠른 성능을 냅니다. |
| **데이터베이스** | **PostgreSQL** | 수십 년간 검증된 안정성과 강력한 기능을 제공하는 오픈소스 관계형 데이터베이스입니다. |
| **파일 저장소** | **S3 호환 스토리지** | 생성된 성적표(PDF/Excel)와 같은 파일을 안전하고 효율적으로 저장하기 위해 사용합니다. |
| **비동기 처리** | Redis + Celery | 대량의 PDF 생성처럼 시간이 오래 걸리는 작업을 백그라운드에서 처리하여 사용자가 기다리지 않게 합니다. |

### 2-2. 데이터베이스 설계 (ERD)

데이터는 아래와 같은 테이블(정보 저장 단위)들로 구성되며, 각 테이블은 서로 유기적으로 연결됩니다.

> **핵심 테이블 관계 요약**
> - `Teacher`가 `Term`(학기)에 `Class`(반)를 만들고, `Course`(과목)를 개설합니다.
> - `Student`가 `Course`(과목)에 `Enrollment`(수강)합니다.
> - `Teacher`는 `Course`에 `GradeComponent`(평가항목)를 설계합니다.
> - `TA`나 `Teacher`는 `Student`의 `GradeComponent`에 대한 `Score`(점수)를 입력합니다.
> - 모든 `Score`가 합산되어 `GradeResult`(최종 성적)가 산출됩니다.
> - 모든 중요한 변경사항은 `AuditLog`(감사로그)에 기록됩니다.

| 테이블명 (영문) | 한글명 | 주요 역할 |
| :--- | :--- | :--- |
| `users`, `students` | 사용자, 학생 | 시스템에 로그인하고 사용하는 모든 사람들의 기본 정보 |
| `terms`, `classes`, `courses` | 학기, 반, 과목 | '2025년 1학기 파이썬반 고급 A과목'처럼 수업의 기본 정보 |
| `enrollments` | 수강 정보 | 어떤 학생이 어떤 과목을 듣는지 연결해주는 정보 |
| `grade_components` | 평가 항목 | 중간고사(30%), 기말고사(40%) 등 성적을 구성하는 항목 정보 |
| `scores` | 개별 점수 | 각 학생이 각 평가 항목에서 받은 점수 하나하나의 정보 |
| `grade_results` | 최종 성적 | 모든 점수를 합산하여 산출한 학생의 최종 성적 정보 |
| `grade_lock_versions` | 성적 확정 버전 | 성적이 '확정'될 때마다 생성되는 버전 정보 (수정 이력 관리용) |
| `audit_logs` | 감사 로그 | 시스템에서 발생한 모든 중요한 변경 이력을 기록하는 장부 |

### 2-3. API 엔드포인트 설계

API는 프론트엔드와 백엔드가 소통하는 창구 역할을 합니다. 주요 API 목록은 다음과 같습니다.

| 구분 | API 엔드포인트 | 역할 |
| :--- | :--- | :--- |
| **인증** | `POST /auth/login` | 로그인 |
| | `GET /me` | 내 정보 확인 |
| **과목/학생 관리** | `POST /courses` | 새 과목 생성 |
| | `GET /courses/{id}/students` | 과목에 등록된 학생 목록 조회 |
| | `POST /students/import` | 학생 명단 일괄 업로드 |
| **평가/점수 관리** | `POST /courses/{id}/components` | 과목의 평가 항목 생성 |
| | `PUT /components/{id}/scores/bulk` | 여러 학생의 점수 대량 입력 |
| | `GET /courses/{id}/scores` | 과목 전체 점수 조회 |
| **산출/확정/출력**| `POST /courses/{id}/compute` | 최종 성적 미리보기 산출 |
| | `POST /courses/{id}/lock` | 최종 성적 확정 및 잠금 |
| | `POST /courses/{id}/export/pdf` | 성적표 PDF 파일 생성 요청 |

---

## 3부: 어떻게 개발하고 운영하나요? (개발 및 운영)

### 3-1. 개발 로드맵 (단계별 계획)

프로젝트를 안정적으로 진행하기 위해, 기능을 나누어 단계적으로 개발합니다.

| 개발 단계 | 기간 | 주요 목표 | 결과물 |
| :--- | :--- | :--- | :--- |
| **MVP**<br>(최소 기능 제품) | 2-4주 | **핵심 기능 구현**: 가장 기본적인 성적 처리 사이클을 완성합니다. | - 로그인<br>- 학생/과목 관리<br>- 평가항목 설정<br>- 점수 개별 입력<br>- 총점 산출<br>- Excel로 내보내기 |
| **v1.0**<br>(정식 버전) | 4-8주 | **사용성 및 신뢰성 강화**: 대량 처리 기능과 감사 기능을 추가합니다. | - 점수 대량 업로드<br>- 성적 확정/버전 관리<br>- 감사 로그 기능<br>- 개인 성적표 PDF 출력<br>- 기본 통계 기능 |
| **v2.0**<br>(확장 버전) | 이후 | **부가 기능 및 고도화**: 모바일 지원 및 사용자 편의 기능을 확장합니다. | - 모바일 앱<br>- 알림 기능<br>- 성적 정정 요청 기능<br>- 상대평가 기능 |

### 3-2. 테스트 및 품질 보증 전략

- **단위 테스트**: 성적 계산 로직(반올림, 결시 처리 등)처럼 작은 기능 단위가 정확히 동작하는지 검증합니다.
- **통합 테스트**: 점수 업로드 → 산출 → 확정 → 출력으로 이어지는 전체 시나리오가 문제없이 동작하는지 검증합니다.
- **재현성 테스트**: "동일한 입력을 넣으면 항상 동일한 결과가 나온다"는 원칙을 검증하여 성적 산출의 신뢰성을 확보합니다.

### 3-3. 배포 및 운영 전략

- **배포**: 소규모 환경에서는 `Docker Compose`를 이용해 간편하게 배포하고, 대규모 환경에서는 클라우드 서비스(AWS, GCP 등)를 이용해 확장성 있게 배포합니다.
- **모니터링**: 시스템 에러 발생률, API 응답 속도 등을 실시간으로 모니터링하여 문제가 생겼을 때 빠르게 대응합니다.
- **백업**: 모든 데이터는 주기적으로 자동 백업하여, 예기치 못한 사고가 발생해도 데이터를 복구할 수 있도록 대비합니다.

### 3-4. 주요 리스크와 대응 방안

| 예상 리스크 | 대응 방안 |
| :--- | :--- |
| **잦은 성적 정책 변경** | 성적 계산 규칙을 DB에 저장하고, 규칙 엔진이 이를 해석하여 계산하도록 유연하게 설계합니다. |
| **성적 확정 후 수정 분쟁** | 모든 수정은 '정정 요청/승인' 절차를 통해서만 가능하게 하고, 모든 이력을 감사 로그에 남겨 투명성을 확보합니다. |
| **PDF 출력 품질 문제** | 표준화된 HTML 템플릿을 만들어 PDF로 변환하는 방식을 사용하여, 항상 일관된 품질의 결과물이 나오도록 합니다. |
