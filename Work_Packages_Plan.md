# 프로젝트 작업 패키지(WP) 상세 계획

이 문서는 '학생 성적 관리 시스템' 프로젝트를 구성하는 각 작업 패키지(Work Package, WP)의 상세 내용을 정의합니다. 각 단계별 목표, 주요 작업, 결과물, 완료 기준을 명확히 하여 체계적인 프로젝트 수행을 돕습니다.

---

## 🚀 WP 목록 요약

| 단계 | WP | 핵심 내용 |
| :--- | :--- | :--- |
| **WP0** | 착수·환경·규칙 | 프로젝트의 기본 뼈대를 세우고, 모두가 따를 규칙을 정합니다. |
| **WP1** | 요구사항·정책 확정 | 성적 처리, 권한, 출력물에 대한 모든 규칙을 최종 결정합니다. |
| **WP2** | 데이터모델·ERD | 시스템의 데이터를 저장할 DB의 설계도를 완성합니다. |
| **WP3** | 인증·권한(RBAC) | 누가 로그인하고, 무엇을 할 수 있는지 통제하는 기능을 만듭니다. |
| **WP4** | 핵심 도메인 API | 과목, 학생 등 시스템의 기본 정보를 관리하는 API를 개발합니다. |
| **WP5** | 성적 산출 엔진 | 프로젝트의 심장! 점수를 계산하고 최종 성적을 만드는 로직입니다. |
| **WP6** | 대량 업로드/검증 | 사용자가 Excel/CSV로 데이터를 한 번에 올리는 기능을 구현합니다. |
| **WP7** | 출력·통계 리포트 | 성적표(PDF), 명단(Excel) 등을 자동으로 생성하는 기능입니다. |
| **WP8** | 프론트엔드 핵심 화면 | 사용자가 실제로 보게 될 화면을 개발합니다. |
| **WP9** | 테스트·품질 | 시스템의 안정성과 데이터의 정확성을 보장하는 단계입니다. |
| **WP10**| 배포·운영 | 개발된 시스템을 실제 사용자가 쓸 수 있도록 서버에 올리고 관리합니다. |
| **WP11**| (선택) 고도화 | 모바일 앱, 알림 등 추가적인 고급 기능을 개발합니다. |

---

## 상세 작업 패키지

### WP0. 착수·개발환경·규칙
> 🎯 **범위**: 레포/브랜치 전략, 코드 스타일, 기본 인프라 골격

- **🛠️ 주요 작업**:
  - Git 레포지토리 구조(backend/frontend) 확립
  - 커밋 메시지 및 브랜치 전략 규칙 정의
  - Docker Compose를 이용한 최소 실행 환경(backend + db) 구축
  - 환경변수 및 비밀키 관리(`.env`) 규칙 정의
  - 기본 CI(테스트/린트) 파이프라인 설정

- **📄 산출물**:
  - Git 저장소 구조
  - `docker-compose.yml` 파일
  - CI 설정 파일 (`.github/workflows/ci.yml` 등)

- **✅ 완료기준(DoD)**:
  - 로컬 환경에서 `docker compose up` 명령어로 API 서버와 DB가 정상적으로 실행된다.

- **🔗 의존성**: 없음

---

### WP1. 요구사항·정책 확정 패키지
> 🎯 **범위**: 성적 규칙, 권한, 출력 양식의 최종 "동결"

- **🛠️ 주요 작업**:
  - 사용자 역할(Admin/Teacher/TA/Student)별 권한표 확정
  - 성적 정책(절대평가 기준, 결시/미제출 처리, 반올림 규칙) 확정
  - 성적 확정(lock) 이후 수정 정책(새 버전 생성, 감사로그 기록) 확정
  - 출력물 목록 및 형식(PDF/Excel 디자인, 개인정보 마스킹) 확정

- **📄 산출물**:
  - 정책 문서 ("Grading & Access Policy")
  - 핵심 화면 흐름도

- **✅ 완료기준(DoD)**:
  - 확정된 정책 문서를 기준으로 "이런 경우는 어떻게 되나요?"와 같은 예외 케이스 질문이 거의 발생하지 않는 상태.

- **🔗 의존성**: WP0

---

### WP2. 데이터모델·ERD·마이그레이션
> 🎯 **범위**: DB 스키마(제약/인덱스 포함) 최종 확정

- **🛠️ 주요 작업**:
  - ERD(데이터베이스 설계도) 확정 (테이블: 학생, 수강, 평가, 점수, 결과, 버전, 감사로그)
  - 테이블 제약조건 정의 (중복 방지, 외래키 관계)
  - 데이터 삭제 정책 정의 (물리적 삭제 금지, 상태 값 변경 등)
  - DB 조회 성능 최적화를 위한 인덱스 설계
  - `Alembic`을 이용한 DB 마이그레이션 스크립트 생성

- **📄 산출물**:
  - ERD 이미지 파일
  - DDL(데이터 정의어) 스크립트
  - Alembic 마이그레이션 파일

- **✅ 완료기준(DoD)**:
  - DB 초기화 시 모든 테이블이 자동으로 생성되며, 관리자 계정 같은 기본 데이터가 포함될 수 있다.

- **🔗 의존성**: WP1

---

### WP3. 인증/권한(RBAC)·계정 관리
> 🎯 **범위**: 로그인/토큰/권한 체크 표준화

- **🛠️ 주요 작업**:
  - JWT + Refresh 토큰(또는 세션) 방식 구현
  - 비밀번호 해시(Argon2/bcrypt) 적용
  - 역할 기반 접근제어(라우터/서비스 레벨 가드) 구현
  - 사용자/역할 관리(Admin 기능 최소) API 개발

- **📄 산출물**:
  - `/auth/*`, `/users/*` API
  - 권한 검증 미들웨어/데코레이터

- **✅ 완료기준(DoD)**:
  - 권한 없는 요청은 전부 401/403 에러로 처리되고, 필요 시 감사로그에 기록된다.

- **🔗 의존성**: WP2

---

### WP4. 핵심 도메인 API(학기/반/과목/학생/수강)
> 🎯 **범위**: 운영에 필요한 기본 정보 CRUD API

- **🛠️ 주요 작업**:
  - Term(학기), Class(반), Course(과목) CRUD API 개발
  - Student(학생) CRUD API 개발
  - Enrollment(수강) 등록/해제/조회 API 개발
  - 목록 조회 시 필터링 기능 구현 (학기, 반, 이름 등)

- **📄 산출물**:
  - `/terms`, `/classes`, `/courses`, `/students`, `/enrollments` API

- **✅ 완료기준(DoD)**:
  - Teacher가 API를 통해 과목을 만들고 수강생을 등록할 수 있다.

- **🔗 의존성**: WP3

---

### WP5. 평가항목·점수·성적 산출 엔진
> 🎯 **범위**: "성적처리" 핵심 로직 구현

- **🛠️ 주요 작업**:
  - 평가항목(가중치/만점/규칙 `rule_json`) CRUD API 개발
  - 점수 입력(단건/대량) 및 검증(만점 초과, 결측 등) 로직 구현
  - 최종 성적 산출 미리보기 기능 개발
  - 성적 확정(lock) 및 버전 스냅샷 생성, 감사로그(diff) 기록 기능 구현

- **📄 산출물**:
  - `/components`, `/scores`, `/compute`, `/lock` API
  - 성적 계산 엔진 모듈

- **✅ 완료기준(DoD)**:
  - 동일한 입력값에 대해 항상 동일한 결과가 출력(재현성)되어야 하며, 확정(lock)된 성적은 직접 수정이 불가능해야 한다.

- **🔗 의존성**: WP4, WP1(정책)

---

### WP6. 대량 업로드/검증(Excel/CSV)·에러 리포트
> 🎯 **범위**: 실무에서 가장 자주 사용하는 대량 데이터 업로드 기능

- **🛠️ 주요 작업**:
  - 학생, 수강, 점수 데이터 업로드용 템플릿 파일(Excel/CSV) 형식 정의
  - 업로드된 파일 파싱 및 데이터 매핑(학번 기준) 로직 개발
  - 업로드 실패 항목에 대한 에러 리포트(다운로드) 생성 기능 구현
  - 트랜잭션 정책(부분 성공 + 리포트) 구현

- **📄 산출물**:
  - `/import/*` API
  - 업로드용 템플릿 파일
  - 에러 리포트 생성 모듈

- **✅ 완료기준(DoD)**:
  - 데이터 업로드 실패 시, "어떤 행에서 어떤 이유로" 실패했는지 명시된 리포트 파일을 사용자가 다운로드할 수 있다.

- **🔗 의존성**: WP4, WP5

---

### WP7. 출력(PDF/Excel)·통계 리포트
> 🎯 **범위**: 성적표, 명단, 통계 자료 자동 생성

- **🛠️ 주요 작업**:
  - 반 전체 성적, 항목별 성적 Excel 내보내기 기능 개발
  - 개인 성적표 PDF 생성 기능 (정해진 양식 기반)
  - 기본 통계(평균, 표준편차, 점수 분포 등) API 개발
  - 생성된 파일의 안전한 저장 및 다운로드 권한 체크 로직 구현

- **📄 산출물**:
  - `/export/pdf`, `/export/excel`, `/stats` API
  - 파일 관리 및 다운로드 로직

- **✅ 완료기준(DoD)**:
  - Teacher가 UI에서 버튼 클릭 한 번으로 원하는 파일을 생성하고 다운로드할 수 있다.

-**🔗 의존성**: WP5

---

### WP8. 프론트엔드 핵심 화면(Teacher/TA/Student)
> 🎯 **범위**: API를 활용하는 실제 사용자 화면 구현

- **🛠️ 주요 작업**:
  - 로그인, 대시보드(내 과목 목록) 화면 개발
  - 과목 상세 페이지 내 탭 구조 구현 (설정 / 입력 / 산출 / 확정 / 출력)
  - 스프레드시트 형태의 점수 입력 UI 개발 (검색, 정렬, 붙여넣기, 실시간 검증 등)
  - 학생용 화면 개발 (본인 점수 확인, 성적표 다운로드)

- **📄 산출물**:
  - 핵심 기능 관련 Web UI (React/Next.js) 컴포넌트
  - API 연동 코드

- **✅ 완료기준(DoD)**:
  - UI 상에서 "한 과목의 전체 성적 처리 과정(설정 → 입력 → 산출 → 확정 → 출력)"을 처음부터 끝까지 완료할 수 있다.

- **🔗 의존성**: WP3 ~ WP7 API

---

### WP9. 테스트/품질(유닛·통합·회귀)
> 🎯 **범위**: 시스템 안정성 및 데이터 신뢰성 확보

- **🛠️ 주요 작업**:
  - 계산 엔진 유닛 테스트 작성 (결시, 반올림, 가중치 등 예외 케이스 포함)
  - 핵심 시나리오 통합 테스트 작성 (업로드 → 산출 → 확정 → 출력)
  - 권한 테스트 작성 (예: 학생은 본인 데이터만 접근 가능한지 확인)
  - 회귀 테스트(기능 변경 후 기존 기능에 문제가 없는지 확인)를 위한 표준 샘플 데이터셋 고정

- **📄 산출물**:
  - 테스트 코드 (Unit, Integration)
  - 샘플 데이터셋
  - CI 품질 게이트 설정

- **✅ 완료기준(DoD)**:
  - 핵심 비즈니스 시나리오가 CI 환경에서 자동으로 테스트되고 통과된다.

- **🔗 의존성**: WP5 ~ WP8

---

### WP10. 배포·운영(로그/모니터링/백업)
> 🎯 **범위**: 실제 서비스로 운영 가능하도록 최종 마감

- **🛠️ 주요 작업**:
  - 실서버 배포 구성 (Nginx, HTTPS 적용, 도메인 연결)
  - 구조화된 로그 시스템 구축 및 에러 추적 시스템 연동
  - 핵심 지표 모니터링 설정 (API 응답시간, 에러율 등)
  - DB 백업 및 복구 시나리오 수립 및 문서화
  - 운영자 기능 개발 (계정 관리, 데이터 보관 정책 등)

- **📄 산출물**:
  - 배포 스크립트 (`deploy.sh` 등)
  - 운영 가이드 문서
  - 모니터링 대시보드 (선택)

- **✅ 완료기준(DoD)**:
  - 운영 담당자가 문서화된 절차에 따라 "백업/복구/권한관리"를 직접 수행할 수 있다.

- **🔗 의존성**: WP0, WP3, WP9

---

### WP11(선택). 고도화 패키지
> 🎯 **범위**: 추가적인 고급 기능 구현

- **✨ 주요 기능 후보**:
  - 모바일 앱 (React Native) 개발
  - 푸시/이메일 알림 기능
  - 성적 정정 요청 워크플로우 (학생 → 교수 승인)
  - 상대평가 등급 산출 기능
  - 다국어 지원
  - 기관용 멀티테넌트 (학교/학원별 데이터 완전 분리)
